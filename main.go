package main

import (
	"fmt"
	"strconv"
	"time"
)

const rows int = 11
const cols int = 15

type placeholder [rows][cols]byte

var zero = placeholder{
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', '.', 'n', '~', '~', '%', 'x', '.', ' ', ' ', ' ', ' '},
	{' ', ' ', 'x', '8', '8', 'X', ' ', ' ', ' ', '8', '8', '8', '.', ' ', ' '},
	{' ', 'X', '8', '8', '8', 'X', ' ', ' ', ' ', '8', '8', '8', '8', 'L', ' '},
	{'8', '8', '8', '8', '8', 'X', ' ', ' ', ' ', '8', '8', '8', '8', '8', 'X'},
	{'8', '8', '8', '8', '8', 'X', ' ', ' ', ' ', '8', '8', '8', '8', '8', 'X'},
	{'8', '8', '8', '8', '8', 'X', ' ', ' ', ' ', '8', '8', '8', '8', '8', 'f'},
	{'4', '8', '8', '8', '8', 'X', ' ', ' ', ' ', '8', '8', '8', '8', '8', ' '},
	{' ', '?', '8', '8', '8', 'X', ' ', ' ', ' ', '8', '8', '8', '8', '"', ' '},
	{' ', ' ', '"', '8', '8', 'X', ' ', ' ', ' ', '8', '8', '*', '`', ' ', ' '},
	{' ', ' ', ' ', ' ', '^', '"', '=', '=', '=', '"', '`', ' ', ' ', ' ', ' '},
}

var one = placeholder{
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 'o', 'e', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', '.', '@', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', '=', '=', '*', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', '\'', '*', '*', '%', '%', '%', '%', '%', '%', '*', '*', ' ', ' '},
}

var two = placeholder{
	{' ', ' ', '.', '-', '-', '~', '*', 't', 'e', 'u', '.', ' ', ' ', ' ', ' '},
	{' ', 'd', 'F', ' ', ' ', ' ', ' ', ' ', '9', '8', '8', 'N', 'x', ' ', ' '},
	{'d', '8', '8', '8', 'b', ' ', ' ', ' ', '`', '8', '8', '8', '8', '>', ' '},
	{'?', '8', '8', '8', '8', '>', ' ', ' ', '9', '8', '8', '8', '8', 'F', ' '},
	{' ', '"', '*', '*', '"', ' ', ' ', 'x', '8', '8', '8', '8', '8', '~', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', 'd', '8', '8', '8', '8', '*', '`', ' ', ' '},
	{' ', ' ', ' ', ' ', 'z', '8', '*', '*', '"', '`', ' ', ' ', ' ', ':', ' '},
	{' ', ' ', ':', '?', '.', '.', '.', '.', '.', ' ', ' ', '.', '.', 'F', ' '},
	{' ', '<', '"', '"', '8', '8', '8', '8', '8', '8', '8', '8', '8', '~', ' '},
	{' ', '8', ':', ' ', ' ', '"', '8', '8', '8', '8', '8', '8', '*', ' ', ' '},
	{' ', '"', '"', ' ', ' ', ' ', ' ', '"', '*', '*', '"', '`', ' ', ' ', ' '},
}

var three = placeholder{
	{' ', ' ', '.', 'x', '~', '~', '"', '*', 'W', 'e', 'u', '.', ' ', ' ', ' '},
	{' ', 'd', '8', 'N', 'u', '.', ' ', ' ', '9', '8', '8', '8', 'c', ' ', ' '},
	{' ', '8', '8', '8', '8', '8', ' ', ' ', '9', '8', '8', '8', '8', ' ', ' '},
	{' ', '"', '*', '*', '*', '"', ' ', ' ', '9', '8', '8', '8', '%', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', '.', '.', '@', '8', '*', '"', ' ', ' ', ' '},
	{' ', ' ', ' ', '`', '`', '`', '`', '"', '8', 'W', 'e', 'u', ' ', ' ', ' '},
	{' ', ' ', '.', '.', ' ', ' ', ' ', ' ', '?', '8', '8', '8', '8', 'L', ' '},
	{':', '@', '8', '8', 'N', ' ', ' ', ' ', '\'', '8', '8', '8', '8', 'N', ' '},
	{'*', '8', '8', '8', '8', '~', ' ', ' ', '\'', '8', '8', '8', '8', 'F', ' '},
	{'\'', '*', '8', '"', '`', ' ', ' ', ' ', '9', '8', '8', '8', '%', ' ', ' '},
	{' ', ' ', '`', '~', '=', '=', '=', '*', '%', '"', '`', ' ', ' ', ' ', ' '},
}

var four = placeholder{
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 'x', 'e', 'e', 'e', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', 'd', '8', '8', '8', 'R', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', 'd', '8', '8', '8', '8', 'R', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', '@', ' ', '8', '8', '8', '8', 'R', ' ', ' ', ' '},
	{' ', ' ', ' ', '.', 'P', ' ', ' ', '8', '8', '8', '8', 'R', ' ', ' ', ' '},
	{' ', ' ', ':', 'F', ' ', ' ', ' ', '8', '8', '8', '8', 'R', ' ', ' ', ' '},
	{' ', 'x', '"', ' ', ' ', ' ', ' ', '8', '8', '8', '8', 'R', ' ', ' ', ' '},
	{'d', '8', 'e', 'e', 'e', 'e', 'e', '8', '8', '8', '8', '8', 'e', 'e', 'r'},
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', '8', '8', '8', '8', 'R', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', '8', '8', '8', '8', 'R', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', '"', '*', '%', '%', '%', '%', '%', '%', '*', '*', '~'},
}

var five = placeholder{
	{' ', ' ', 'c', 'u', 'u', '.', '.', '.', '.', 'u', 'K', ' ', ' ', ' ', ' '},
	{' ', ' ', '8', '8', '8', '8', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' '},
	{' ', ' ', '8', '*', '8', '8', '8', '*', '*', '"', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', '>', ' ', ' ', '.', '.', '.', '.', '.', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', 'L', 'z', '"', ' ', ' ', '^', '8', '8', '8', 'N', 'u', ' ', ' '},
	{' ', ' ', 'F', ' ', ' ', ' ', ' ', ' ', '\'', '8', '8', '8', '8', 'k', ' '},
	{' ', ' ', '.', '.', ' ', ' ', ' ', ' ', ' ', '8', '8', '8', '8', '8', '>'},
	{' ', '@', '8', '8', '8', 'L', ' ', ' ', ' ', '8', '8', '8', '8', '8', ' '},
	{'\'', '8', '8', '8', '8', 'F', ' ', ' ', ' ', '8', '8', '8', '8', 'F', ' '},
	{' ', '%', '8', 'F', '"', ' ', ' ', ' ', 'd', '8', '8', '8', '"', ' ', ' '},
	{' ', ' ', '^', '"', '=', '=', '=', '*', '%', '"', '`', ' ', ' ', ' ', ' '},
}

var six = placeholder{
	{' ', ' ', ' ', ' ', '.', 'u', 'e', '~', '~', '%', 'u', '.', ' ', ' ', ' '},
	{' ', ' ', '.', 'd', '8', '8', ' ', ' ', ' ', 'z', '8', '8', 'i', ' ', ' '},
	{' ', 'x', '8', '8', '8', 'E', ' ', ' ', '*', '8', '8', '8', '8', ' ', ' '},
	{':', '8', '8', '8', '8', 'E', ' ', ' ', ' ', '^', '"', '"', ' ', ' ', ' '},
	{'9', '8', '8', '8', '8', 'E', '.', '=', 't', 'W', 'c', '.', ' ', ' ', ' '},
	{'9', '8', '8', '8', '8', 'N', ' ', ' ', '\'', '8', '8', '8', 'N', ' ', ' '},
	{'9', '8', '8', '8', '8', 'E', ' ', ' ', ' ', '8', '8', '8', '8', 'E', ' '},
	{'\'', '8', '8', '8', '8', 'E', ' ', ' ', ' ', '8', '8', '8', '8', 'E', ' '},
	{' ', '?', '8', '8', '8', 'E', ' ', ' ', ' ', '8', '8', '8', '8', '"', ' '},
	{' ', ' ', '"', '8', '8', '&', ' ', ' ', ' ', '8', '8', '8', '"', ' ', ' '},
	{' ', ' ', ' ', ' ', '"', '"', '=', '=', '*', '"', '"', ' ', ' ', ' ', ' '},
}

var seven = placeholder{
	{' ', 'd', 'L', ' ', 'u', 'd', '8', 'N', 'u', ' ', ' ', ':', '8', 'c', ' '},
	{' ', '8', 'F', 'd', '8', '8', '8', '8', '8', '8', 'L', ' ', '%', '8', ' '},
	{' ', '4', 'F', ' ', ' ', ' ', '^', '"', '"', '%', '"', '"', 'd', ' ', ' '},
	{' ', '4', 'N', '8', '8', '8', '8', '8', '8', '8', '8', 'c', 'u', 'R', ' '},
	{' ', 'd', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '.', 'z', '8', ' ', ' ', ' '},
	{' ', '^', ' ', ' ', ' ', ' ', ' ', 'z', '8', '8', '8', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', 'd', '8', '8', '8', '8', '\'', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', '8', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ':', '8', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', '8', '8', '8', '8', '8', '8', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', '\'', '%', '*', '*', '%', ' ', ' ', ' ', ' ', ' ', ' '},
}

var eight = placeholder{
	{' ', ' ', ' ', 'u', '+', '=', '~', '~', '~', '+', 'u', '.', ' ', ' ', ' '},
	{' ', 'z', '8', 'F', ' ', ' ', ' ', ' ', ' ', ' ', '`', '8', 'N', '.', ' '},
	{'d', '8', '8', 'L', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '9', '8', 'E', ' '},
	{'9', '8', '8', '8', '8', 'b', 'u', '.', '.', ' ', '.', '@', '*', ' ', ' '},
	{'"', '8', '8', '8', '8', '8', '8', '8', '8', 'N', 'N', 'u', '.', ' ', ' '},
	{' ', '"', '8', '8', '8', '8', '8', '8', '8', '8', '8', '8', 'i', ' ', ' '},
	{' ', '.', 'z', 'f', '"', '"', '*', '8', '8', '8', '8', '8', '8', '8', 'L'},
	{'d', '8', 'F', ' ', ' ', ' ', ' ', ' ', ' ', '^', '%', '8', '8', '8', 'E'},
	{'8', '8', '>', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '`', '8', '8', '~'},
	{'\'', '%', 'N', '.', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 'd', '*', '"', ' '},
	{' ', ' ', ' ', '^', '"', '=', '=', '=', '=', '=', '"', '`', ' ', ' ', ' '},
}

var nine = placeholder{
	{' ', ' ', '.', 'x', 'n', '!', '~', '%', 'x', '.', ' ', ' ', ' ', ' ', ' '},
	{' ', 'x', '8', '8', '8', ' ', ' ', ' ', '8', '8', '8', '.', ' ', ' ', ' '},
	{'X', '8', '8', '8', '8', ' ', ' ', ' ', '8', '8', '8', '8', ':', ' ', ' '},
	{'8', '8', '8', '8', '8', ' ', ' ', ' ', 'X', '8', '8', '8', '8', ' ', ' '},
	{'8', '8', '8', '8', '8', ' ', ' ', ' ', '8', '8', '8', '8', '8', '>', ' '},
	{'`', '8', '8', '8', '8', ' ', ' ', ':', '8', '8', '8', '8', '8', 'X', ' '},
	{' ', ' ', '`', '"', '*', '*', '~', ' ', '8', '8', '8', '8', '8', '>', ' '},
	{' ', '.', 'x', 'x', '.', ' ', ' ', ' ', '8', '8', '8', '8', '8', ' ', ' '},
	{'\'', '8', '8', '8', '8', '>', ' ', ' ', '8', '8', '8', '8', '~', ' ', ' '},
	{' ', '8', '8', '8', '"', ' ', ' ', ':', '8', '8', '%', ' ', ' ', ' ', ' '},
	{' ', ' ', '^', '"', '=', '=', '=', '"', '"', ' ', ' ', ' ', ' ', ' ', ' '},
}

var colon = placeholder{
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', '.', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', 'd', '8', 'c', ' ', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', '^', '*', '8', '8', '8', '%', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', '"', '8', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', '.', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', 'd', '8', 'c', ' ', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', '^', '*', '8', '8', '8', '%', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', '"', '8', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
	{' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '},
}

func strDigit2ascii(d byte) [11][15]byte {
	switch d {
	case '0':
		return zero
	case '1':
		return one
	case '2':
		return two
	case '3':
		return three
	case '4':
		return four
	case '5':
		return five
	case '6':
		return six
	case '7':
		return seven
	case '8':
		return eight
	default:
		return nine
	}
}

func number2ascii(n int) (a, b [11][15]byte) {
	str := strconv.Itoa(n)
	if n < 0 || n > 59 {
		panic("number2ascii can only be used with numbers from 0 to 59")
	}

	if n < 10 {
		a = zero
		b = strDigit2ascii(str[0])
	} else {
		a = strDigit2ascii(str[0])
		b = strDigit2ascii(str[1])
	}

	return a, b
}

func printClock(t time.Time) {

	h1, h2 := number2ascii(t.Hour())
	m1, m2 := number2ascii(t.Minute())
	s1, s2 := number2ascii(t.Second())
	shouldRenderColon := t.Second()%2 == 0

	for i := 0; i < rows; i++ {
		for _, v := range h1[i] {
			fmt.Printf("%c", v)
		}
		fmt.Printf(" ")

		for _, v := range h2[i] {
			fmt.Printf("%c", v)
		}
		fmt.Printf(" ")

		for _, v := range colon[i] {
			if shouldRenderColon {
				fmt.Printf("%c", v)
			} else {
				fmt.Printf(" ")
			}
		}
		fmt.Printf(" ")

		for _, v := range m1[i] {
			fmt.Printf("%c", v)
		}
		fmt.Printf(" ")

		for _, v := range m2[i] {
			fmt.Printf("%c", v)
		}
		fmt.Printf(" ")

		for _, v := range colon[i] {
			if shouldRenderColon {
				fmt.Printf("%c", v)
			} else {
				fmt.Printf(" ")
			}
		}
		fmt.Printf(" ")

		for _, v := range s1[i] {
			fmt.Printf("%c", v)
		}
		fmt.Printf(" ")

		for _, v := range s2[i] {
			fmt.Printf("%c", v)
		}
		fmt.Printf("\n")
	}
}

func main() {
	for {
		printClock(time.Now())
		time.Sleep(time.Second)
		fmt.Printf("\033[11A")
	}
}
